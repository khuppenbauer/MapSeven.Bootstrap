{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace media=TYPO3\Media\ViewHelpers}
<f:if condition="{image}">
    <f:then>
        <f:if condition="{link}"><a href="{link}"></f:if>
        <f:if condition="{clickEnlarge}"><a href="{media:uri.image(image:image)}" data-toggle="lightbox" data-title="{title}" data-footer="{f:if(condition: hasCaption, then: caption, else: '')}"></f:if>
        <media:image image="{image}" alt="{alternativeText}" title="{title}" maximumWidth="{maximumWidth}" maximumHeight="{maximumHeight}" allowCropping="{allowCropping
}" allowUpScaling="{allowUpScaling}" class="img-responsive img-border img-left"/>
        <f:if condition="{link}"></a></f:if>
        <f:if condition="{clickEnlarge}"></a></f:if>
        <hr class="visible-xs">
    </f:then>
    <f:else>
        <f:security.ifAccess resource="TYPO3_Neos_Backend_GeneralAccess">
            <f:if condition="{node.context.workspace.name} != 'live'">
                <img src="{f:uri.resource(package: 'TYPO3.Neos', path: 'Images/dummy-image.png')}" title="Dummy image" alt="Dummy image" class="neos-handle" />
            </f:if>
        </f:security.ifAccess>
    </f:else>
</f:if>
<f:if condition="{hasCaption}">
    {neos:contentElement.editable(property: 'caption', node: node)}
</f:if>